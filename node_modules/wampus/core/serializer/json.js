"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
class JsonSerializer {
    constructor() {
        this.id = "json";
    }
    deserialize(buffer) {
        let str;
        if (typeof buffer === "string") {
            str = buffer;
        }
        else if (buffer instanceof Buffer) {
            str = buffer.toString("utf8");
        }
        else {
            throw new Error("Unsupported message data format.");
        }
        return JSON.parse(str);
    }
    serialize(msg) {
        let str = JSON.stringify(msg);
        return Buffer.from(str, "utf8");
    }
}
exports.JsonSerializer = JsonSerializer;
//# sourceMappingURL=json.js.map