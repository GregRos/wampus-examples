"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
function makeRejectingPromise(ctor, value) {
    if ("reject" in ctor) {
        return ctor.reject(value);
    }
    return new ctor((resolve, reject) => {
        reject(value);
    });
}
exports.makeRejectingPromise = makeRejectingPromise;
/** @external */
function makeResolvingPromise(ctor, value) {
    if ("resolve" in ctor) {
        return ctor.resolve(value);
    }
    let x = value;
    return new ctor((resolve, reject) => {
        if ("then" in x) {
            x.then(resolve, reject);
        }
        else {
            resolve(x);
        }
        resolve(value);
    });
}
exports.makeResolvingPromise = makeResolvingPromise;
/** @external */
exports.normalizeTime = (t) => {
    if (t === +t) {
        return t;
    }
    else {
        let dt = t;
        return Math.max(0, dt.getTime() - Date.now());
    }
};
/** @external */
exports.isFunction = (t) => {
    return Object.prototype.toString.call(t) === "[object Function]";
};
/** @external */
exports.isPromiseLike = (t) => {
    return "then" in t;
};
//# sourceMappingURL=common.js.map